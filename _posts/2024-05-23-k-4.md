---
title: "[Kubernetes]-도커&쿠버네티스 4일차"
excerpt: "쿠버네티스 업데이트 & 모니터링"

categories:
  - Kubernetes
tags:
  - [kubernetes, docker]

permalink: /kubernetes/k-4/

toc: true
toc_sticky: true

date: 2024-05-23
last_modified_at: 2024-05-23
---
# 쿠버네티스 4일차

### Kubernetes Architecture

![kube](https://github.com/yblmmen/gatsby.github.io/assets/161982180/39f86e39-0c15-432a-8295-077f0bb40148)
![kube2](https://github.com/yblmmen/gatsby.github.io/assets/161982180/b35ddec4-25a0-48b2-a5fb-8f388d8b3d21)



### 1. namespace

- namespace Archetecture
![namespace](https://github.com/yblmmen/gatsby.github.io/assets/161982180/af4adf56-5450-414f-a86d-aa6cfdde0062)

- namespace의 기능
  - 자원 분리 및 접근제어 기능

- namespace 실습

```
<Kubernetes 기본 명령어>

# mkdir workspace && cd $_
# kubectl api-resources    // 버전,  shortnames 정보등을 볼수 있음
  - shortname -> 예) kubectl get no
  - pod(task) = container + volume + side car (side car: container 감시 기능)

# kubectl [명령어] [유형] [이름] [옵션]
# kubectl get node
# kubectl run nginx-pod --image=nginx # pending > ContainerCreating > Running
# kubectl get pod
# kubectl get service
# kubectl expose pod nginx-pod --name clusterip --type=ClusterIP --port 80
# kubectl expose pod nginx-pod --name nodeport --type=NodePort --port 80
# kubectl expose pod nginx-pod --name loadbalancer --type=LoadBalancer --external-ip 192.168.0.29 --port 80
# kubectl get pod
# kubectl get service
# kubectl exec -it nginx-pod -- bash
# kubectl cp html nginx-pod:/usr/share/nginx
# kubectl get all
# kubectl delete svc --all
# kubectl delete pod nginx-pod
# kubectl delete pod,svc --all
# kubectl delete pods <pod> --grace-period=0 --force pod
# kubectl options
# kubectl api-resources
# kubectl get nodes -o wide
# kubectl get nodes -o wide --no-headers
# kubectl get nodes -o wide --no-headers | awk '{print $6}'
# kubectl create deployment nginx-app --replicas=2 --image=nginx
# kubectl get deployments.apps
# kubectl get replicasets.apps
# kubectl get pods
# kubectl expose deployment nginx-app --name clusterip-app --type=ClusterIP --port 80
# kubectl expose deployment nginx-app --name nodeport-app --type=NodePort --port 80
# kubectl expose deployment nginx-app --name loadbalancer-app --type=LoadBalancer --external-ip 192.168.0.29 --port 80
# kubectl get service
# kubectl scale deployment nginx-app --replicas=4
# kubectl get pods
# kubectl scale deployment nginx-app --replicas=2
# kubectl get pods
# kubectl delete deployments.apps nginx-app
# kubectl delete service --all

--- Kubernetes 네임스페이스
# kubectl get namespaces
# kubectl config get-contexts kubernetes-admin@kubernetes
# kubectl config set-context kubernetes-admin@kubernetes --namespace=kube-system
# kubectl config get-contexts kubernetes-admin@kubernetes
# kubectl config set-context kubernetes-admin@kubernetes --namespace=default
# kubectl create namespace test-namespace
# kubectl get namespace
# kubectl config set-context kubernetes-admin@kubernetes --namespace=test-namespace
# kubectl config set-context kubernetes-admin@kubernetes --namespace=default
```



- 

 
